<div class="card border border-primary mb-3" *ngIf="isCardValid">
    <div class="card-header">
        <h5 class="card-title">
            <span class="text-muted" data-toggle="tooltip" data-placement="bottom" title="Todo ID">#{{ content.id+1 }}</span>
            <span data-toggle="tooltip" data-placement="bottom" title="Todo name">{{ content.name }}</span>
        </h5>
    </div>
    <div class="card-body">
        <ul class="list-group list-group-flush">
            <li class="list-group-item rounded border border-secondary" *ngIf="descriptionLength"
                    data-toggle="tooltip" data-placement="bottom" title="Todo description">
                <p class="card-text">{{ content.description }}</p>
            </li>
            <li class="list-group-item" ng-if="showDescriptionLength">
                <p class="card-text">Description length: {{ descriptionLength }}</p>
            </li>
            <li class="list-group-item">
				<button class="btn btn-secondary mb-3" type="button" ng-click="toggleCollapse()"
						data-toggle="tooltip" data-placement="bottom" title="Toggle Task list">
						<!-- >data-bs-toggle="collapse" data-bs-target="#task-list-{{content.id}}-collapse"<-->
					<i *ngIf="todo_expand_status" class="fas fa-folder-minus"></i>
					<i *ngIf="!todo_expand_status" class="fas fa-folder-plus"></i>
				</button>
				<div id="task-list-{{content.id}}-collapse" class="collapse">
					<ul class="list-group border border-primary"
							data-toggle="tooltip" data-placement="bottom" title="Task list">
						<li class="list-group-item d-flex justify-content-between">Task</li>
						<li class="list-group-item d-flex justify-content-between" *ngIf="taskCount"
								ngFor="let task of tasks">
							<div>
								<span ng-if="!readonlyTodo && !readonlyTask">
									<button type="button" class="btn btn-primary btn-sm text-end" ng-click="prepareEditTaskModal(task)"
											data-toggle="tooltip" data-placement="bottom" title="View Task details">
										<i class="fas fa-pencil-alt"></i>
									</button>
									<button type="button" class="btn btn-danger btn-sm text-end" ng-click="removeTask(task)"
											data-toggle="tooltip" data-placement="bottom" title="Remove Task">
										<i class="fas fa-trash-alt"></i>
									</button>
								</span>
								<span>Task</span>
								<!-- ><span class="text-muted">#{{ task.id + 1 }}</span><-->
								<!-- ><span>{{ task.name }}</span><-->
							</div>
							<input class="form-check-input" type="checkbox" ng-checked="task.done"
								   data-toggle="tooltip" data-placement="bottom" title="Check Task"
								   ng-click="checkTask(task)" ng-if="!readonlyTodo && !readonlyTask">
						</li>
						<li class="list-group-item" *ngIf="!taskCount">
							<app-ff-todo-task-list-empty></app-ff-todo-task-list-empty>
						</li>
						<li class="list-group-item border border-primary" ng-if="showTaskCount">
							<p class="card-text">Task count: {{ taskCount }}</p>
						</li>
					</ul>
				</div>
            </li>
            <li class="list-group-item" ng-if="!readonlyTodo">
				<div class="d-flex justify-content-between">
					<div class="btn-group" role="group">
						<button type="button" class="btn btn-primary btn-sm text-end" ng-click="prepareAddTaskModal()"
								data-toggle="tooltip" data-placement="bottom" title="Add new Task">
							<i class="fas fa-plus"></i>
						</button>
						<button type="button" class="btn btn-primary btn-sm text-end" ng-click="prepareEditTodoModal()"
								data-toggle="tooltip" data-placement="bottom" title="Edit Todo">
							<i class="fas fa-pencil-alt"></i>
						</button>
					</div>
					<div class="btn-group" role="group">
						<button type="button" class="btn btn-danger btn-sm text-end" ng-click="prepareRemoveTodoConfirmModal()"
								data-toggle="tooltip" data-placement="bottom" title="Remove Todo">
							<i class="fas fa-trash-alt"></i>
						</button>
						<button type="button" class="btn btn-danger btn-sm text-end" ng-click="prepareRemoveAllTasksConfirmModal()"
								data-toggle="tooltip" data-placement="bottom" title="Remove All Tasks" ng-disabled="!taskCount">
							<i class="fas fa-broom"></i>
						</button>
					</div>
					<div class="btn-group" role="group">
						<button type="button" class="btn btn-primary btn-sm text-end" ng-click="shiftTodoLeft()"
								data-toggle="tooltip" data-placement="bottom" title="Shift Todo to the left"
								ng-disabled="!phaseLeftExists">
							<i class="fas fa-arrow-left"></i>
						</button>
						<button type="button" class="btn btn-primary btn-sm text-end" ng-click="shiftTodoRight()"
								data-toggle="tooltip" data-placement="bottom" title="Shift Todo to the right"
								ng-disabled="!phaseRightExists">
							<i class="fas fa-arrow-right"></i>
						</button>
					</div>
				</div>
			</li>
        </ul>
    </div>
    <div class="card-footer text-muted">
        <p>Date updated: {{ content.datemodified | date:customDateFormat }}</p>
        <p ng-if="showDateCreated">Date created: {{ content.datecreated | date:customDateFormat }}</p>
    </div>
</div>
<!-- ><tsz-card-invalid ng-if="!isCardValid"></tsz-card-invalid><-->