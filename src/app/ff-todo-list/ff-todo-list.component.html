<div class="table mt-3">
	<div class="row border border-3 border-secondary rounded">
		<div class="col" ng-repeat="phase in phase_labels">
			<h1 class="display-5 mt-1 mb-3">{{phase}}</h1>

			<div class="border border-secondary rounded mt-2" ng-if="todo_list[$index].length">
				<div class="mb-3">Sorting of Todos in '{{phase}}' phase:</div>
				<div class="mb-2">
					<select class="form-select" ng-model="todo_sorting_field[$index]"
							data-toggle="tooltip" data-placement="bottom" title="Todo sorting field">
						<option ng-repeat="(todoFieldName,todoFieldDisp) in todoSortingFields" ng-value="todoFieldName"
								ng-click="updateSortingRelatedOptions($index)">{{ todoFieldDisp }}</option>
					</select>
				</div>
				<div class="d-flex justify-content-between">
					<div data-toggle="tooltip" data-placement="bottom" title="Todo sorting direction">
						<input class="form-check-input" type="checkbox" id="todo_sorting_direction_{{ $index }}"
							   ng-model="todo_sorting_direction[$index]">
						<label for="todo_sorting_direction_{{ $index }}">Descending</label>
					</div>
					<button type="button" class="btn btn-warning" ng-click="resetTodoSorting($index)">Reset Todo Sorting</button>
				</div>
			</div>

			<div class="border border-secondary rounded mt-2" ng-if="task_count[$index]">
				<div class="mb-3">Sorting of Tasks in '{{phase}}' phase:</div>
				<div class="mb-2">
					<select class="form-select" ng-model="task_sorting_field[$index]"
							data-toggle="tooltip" data-placement="bottom" title="Task sorting field">
						<option ng-repeat="(taskFieldName,taskFieldDisp) in taskSortingFields" ng-value="taskFieldName">{{ taskFieldDisp }}</option>
					</select>
				</div>
				<div class="d-flex justify-content-between">
					<div data-toggle="tooltip" data-placement="bottom" title="Task sorting direction">
						<input class="form-check-input" type="checkbox" id="task_sorting_direction_{{ $index }}"
							   ng-model="task_sorting_direction[$index]">
						<label for="task_sorting_direction_{{ $index }}">Descending</label>
					</div>
					<button type="button" class="btn btn-warning" ng-click="resetTaskSorting($index)">Reset Task Sorting</button>
				</div>
			</div>

            <!-- >
			<div ng-if="todo_list[$index].length">
				<div ng-repeat="todo in todo_list[$index] | orderBy:todo_sorting_field[$index]:todo_sorting_direction[$index]">
					<tsz-card content="{{todo}}"
							  tasksortfield="task_sorting_field[$index]" tasksortdir="task_sorting_direction[$index]"></tsz-card>
				</div>
			</div>
            <-->
			<!-- >
            <tsz-todo-emptiness-indicator ng-if="!todo_list[$index].length"></tsz-todo-emptiness-indicator>
            <-->
		</div>
	</div>
</div>
<div class="d-grid gap-2 w-25 my-2" ng-if="!readonlyTodo">
	<button type="button" class="btn btn-primary" ng-click="addTodo()"
			data-toggle="tooltip" data-placement="bottom" title="Add new Todo">
		<i class="fas fa-plus"></i>
	</button>
	<button type="button" class="btn btn-danger btn-sm" ng-click="removeAllTodos()"
			data-toggle="tooltip" data-placement="bottom" title="Remove all Todos"
			ng-disabled="!todo_count">
		<i class="fas fa-broom"></i>
	</button>
</div>